# ============================================
# TULUMBAK BACKEND - ENVIRONMENT VARIABLES
# ============================================
# Production deployment için bu dosyayı .env olarak kopyalayın ve değerleri doldurun
# cp env.example .env

# ============================================
# SERVER CONFIGURATION
# ============================================
NODE_ENV=production
PORT=4001

# ============================================
# DATABASE CONFIGURATION
# ============================================
# MongoDB Connection String (Tercih edilen yöntem)
MONGODB_URI=mongodb://username:password@host:port/database?authSource=admin

# VEYA MongoDB bağlantı bilgilerini ayrı ayrı belirtin
# MONGO_USERNAME=your_username
# MONGO_PASSWORD=your_password
# MONGO_HOST=your_mongodb_host
# MONGO_PORT=27017
# MONGO_DB=ecommerce
# MONGO_AUTHSOURCE=admin

# ============================================
# SECURITY & AUTHENTICATION
# ============================================
# JWT Secret Key (Güçlü bir key kullanın - en az 32 karakter)
JWT_SECRET=your_super_secret_jwt_key_change_in_production_min_32_chars

# Admin Kullanıcı Bilgileri (İlk kurulum için)
ADMIN_EMAIL=admin@tulumbak.com
ADMIN_PASSWORD=change_this_password

# ============================================
# CORS & SECURITY HEADERS
# ============================================
# Frontend ve Admin panel domain'leri (virgülle ayırın)
# Örnek: https://www.tulumbak.com,https://admin.tulumbak.com
CORS_ORIGINS=https://www.tulumbak.com,https://admin.tulumbak.com

# CSP Image Sources (Content Security Policy için görsel kaynakları)
# Örnek: https://www.tulumbak.com,https://cdn.tulumbak.com,https://api.tulumbak.com
CSP_IMAGE_SOURCES=https://www.tulumbak.com,https://api.tulumbak.com

# ============================================
# FRONTEND & BACKEND URLs
# ============================================
# Frontend URL (Sipariş takip linkleri için)
FRONTEND_URL=https://www.tulumbak.com

# Backend URL (Webhook ve callback'ler için)
BACKEND_URL=https://api.tulumbak.com

# Webhook Base URL
WEBHOOK_BASE_URL=https://api.tulumbak.com

# ============================================
# PAYMENT GATEWAY (PayTR)
# ============================================
MERCHANT_ID=your_paytr_merchant_id
MERCHANT_KEY=your_paytr_merchant_key
MERCHANT_SALT=your_paytr_merchant_salt
TEST_MODE=0
MERCHANT_OK_URL=https://www.tulumbak.com/success
MERCHANT_FAIL_URL=https://www.tulumbak.com/failed

# ============================================
# EMAIL CONFIGURATION (SMTP)
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password

# ============================================
# SMS CONFIGURATION
# ============================================
# SMS Provider: netgsm veya mesajpanel
SMS_PROVIDER=netgsm
SMS_ENABLED=false
SMS_API_KEY=your_sms_api_key
SMS_FROM=your_sms_sender_name

# ============================================
# REDIS CACHE (Opsiyonel)
# ============================================
# Redis kullanmak istiyorsanız REDIS_ENABLED=true yapın
REDIS_ENABLED=false
REDIS_URL=redis://localhost:6379

# ============================================
# ERROR TRACKING (Sentry)
# ============================================
# Sentry DSN (Opsiyonel - Error tracking için)
SENTRY_DSN=

# ============================================
# CLOUDINARY (Image Storage - Şu an devre dışı)
# ============================================
# CLOUDINARY_NAME=your_cloudinary_name
# CLOUDINARY_API_KEY=your_cloudinary_api_key
# CLOUDINARY_API_SECRET=your_cloudinary_secret

# ============================================
# BANK INFORMATION
# ============================================
BANK_IBAN=TR00 0000 0000 0000 0000 0000 00
BANK_ACCOUNT_NAME=Tulumbak Gıda
BANK_NAME=Banka Adı

# ============================================
# MUDITA KURYE INTEGRATION (Opsiyonel)
# ============================================
MUDITA_ENABLED=false
MUDITA_API_URL=https://api.muditakurye.com.tr
MUDITA_API_KEY=your_mudita_api_key
MUDITA_API_SECRET=your_mudita_api_secret
MUDITA_RESTAURANT_ID=your_restaurant_id
MUDITA_WEBHOOK_SECRET=your_webhook_secret
MUDITA_TEST_MODE=false
MUDITA_WEBHOOK_ONLY_MODE=false

# ============================================
# WEBHOOK ENCRYPTION
# ============================================
WEBHOOK_ENCRYPTION_KEY=your_webhook_encryption_key_min_32_chars

# ============================================
# RETRY & CIRCUIT BREAKER CONFIGURATION
# ============================================
RETRY_MAX_ATTEMPTS=5
RETRY_BASE_DELAY=1000
RETRY_MAX_DELAY=300000
CIRCUIT_BREAKER_ENABLED=true
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=60000
CIRCUIT_BREAKER_RESET_TIMEOUT=120000

# ============================================
# SWAGGER DOCUMENTATION
# ============================================
SWAGGER_DEV_URL=http://localhost:4001
SWAGGER_PROD_URL=https://api.tulumbak.com

